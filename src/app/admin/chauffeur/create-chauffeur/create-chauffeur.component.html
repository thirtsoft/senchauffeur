<div class="container-fluid">
    <div class="row">
        <h1 *ngIf="!paramId">Nouveau Chaffeur</h1>
        <h1 *ngIf="paramId">Modifié Chaffeur</h1>
        <form #addChauffeurForm="ngForm" name="form">
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Prénom</label>
                        <input type="text" class="form-control" [(ngModel)]="formDataChauffeurDTO.firstName" name="firstName" id="firstName" #firstName="ngModel" required placeholder="Prénom chauffeur" />
                        <span class="text-danger" *ngIf="
                (firstName.touched || addChauffeurForm.submitted) &&
                firstName.errors?.required
              ">
              firstName est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Nom</label>
                        <input type="text" class="form-control" [(ngModel)]="formDataChauffeurDTO.lastName" name="lastName" id="lastName" #lastName="ngModel" required placeholder="Nom chauffeur" />
                        <span class="text-danger" *ngIf="
                (lastName.touched || addChauffeurForm.submitted) &&
                lastName.errors?.required
              ">
              lastName est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Sexe</label>
                        <div class="form-group">
                            <select name="sexe" [(ngModel)]="formDataChauffeurDTO.sexe" name="sexe" id="sexe" #sexe="ngModel" required class="form-control" placeholder="Sexe chauffeur">
                <option value="Homme">Homme</option>
                <option value="Femme">Femme</option>
              </select>
                            <span class="text-danger" *ngIf="
                  (sexe.touched || addChauffeurForm.submitted) &&
                  sexe.errors?.required
                ">
                lastNsexeame est obligatoire
              </span>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Localité</label>
                        <div class="form-group">
                            <select name="addresseDto" [(ngModel)]="formDataChauffeurDTO.addresseDto" class="form-control" placeholder="Quartier chauffeur">
                <option
                  *ngFor="let add of listAddressDTO"
                  [ngValue]="
                    add.id == formDataChauffeurDTO.addresseDto?.id
                      ? formDataChauffeurDTO.addresseDto
                      : add
                  "
                >
                  {{ add.ville }}
                </option>
              </select>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Type de Chauffeur</label>
                        <input type="text" class="form-control" [(ngModel)]="formDataChauffeurDTO.reference" name="reference" id="reference" #reference="ngModel" placeholder="Type chauffeur" required />
                        <span class="text-danger" *ngIf="
                (reference.touched || addChauffeurForm.submitted) &&
                reference.errors?.required
              ">
              type de chauffeur est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Permis</label>
                        <div class="form-group">
                            <select name="permisDto" [(ngModel)]="formDataChauffeurDTO.permisDto" class="form-control">
                <option
                  *ngFor="let art of listPermisData"
                  [ngValue]="
                    art.id == formDataChauffeurDTO.permisDto?.id
                      ? formDataChauffeurDTO.permisDto
                      : art
                  "
                >
                  {{ art.designation }}
                </option>
              </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Phone Chauffeur</label>
                        <input type="text" class="form-control" [(ngModel)]="formDataChauffeurDTO.phoneChauffeur" name="phoneChauffeur" id="phoneChauffeur" #phoneChauffeur="ngModel" placeholder="Téléphone chauffeur" required />
                        <span class="text-danger" *ngIf="
                (phoneChauffeur.touched || addChauffeurForm.submitted) &&
                phoneChauffeur.errors?.required
              ">
              phoneChauffeur est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Email </label>
                        <input type="text" placeholder="Email chauffeur" class="form-control" [(ngModel)]="formDataChauffeurDTO.email" name="email" id="email" #email="ngModel" required />
                        <span class="text-danger" *ngIf="
                (email.touched || addChauffeurForm.submitted) &&
                email.errors?.required
              ">
              email est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Experience </label>
                        <input type="text" placeholder="Nombre années expérience" class="form-control" [(ngModel)]="formDataChauffeurDTO.nbreAnneeExperience" name="nbreAnneeExperience" id="nbreAnneeExperience" #nbreAnneeExperience="ngModel" required />
                        <span class="text-danger" *ngIf="
                (nbreAnneeExperience.touched || addChauffeurForm.submitted) &&
                nbreAnneeExperience.errors?.required
              ">
              nbreAnneeExperience est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>pretention Salaire </label>
                        <input type="number" placeholder="Prétention de salaire" class="form-control" [(ngModel)]="formDataChauffeurDTO.pretentionSalaire" name="pretentionSalaire" id="pretentionSalaire" #pretentionSalaire="ngModel" required />
                        <span class="text-danger" *ngIf="
                (pretentionSalaire.touched || addChauffeurForm.submitted) &&
                pretentionSalaire.errors?.required
              ">
              pretentionSalaire est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>Disponibilité </label>
                        <input type="text" placeholder="Disponibité chauffeur" class="form-control" [(ngModel)]="formDataChauffeurDTO.disponibity" name="disponibity" id="disponibity" #disponibity="ngModel" required />
                        <span class="text-danger" *ngIf="
                (disponibity.touched || addChauffeurForm.submitted) &&
                disponibity.errors?.required
              ">
              disponibité est obligatoire
            </span>
                    </div>
                </div>

                <div class="col-sm-6">
                    <label>Choisi </label>
                    <input type="checkbox" class="form-control" [(ngModel)]="formDataChauffeurDTO.selected" name="selected" id="selected" #selected="ngModel" required />
                    <span class="text-danger" *ngIf="
              (selected.touched || addChauffeurForm.submitted) &&
              selected.errors?.required
            ">
            choisi est obligatoire
          </span>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>photo Chauffeur </label>
                        <img height="90" width="90" class="img-circle" src="{{
                this.chauffeurService.apiServerUrl +
                  '/chauffeurs/photoChauffeurInFolder/' +
                  formDataChauffeurDTO.id
              }}" *ngIf="paramId" />
                        <span *ngIf="!editPhoto">
              <input type="file" (change)="onSelectPhotoFile($event)" />
              <button
                *ngIf="paramId"
                class="btn btn-success btn-sm"
                (click)="processForm()"
              >
                <span class="glyphicon glyphicon-upload"></span> Enregistrer la photo
                        </button>
                        {{ progress }}
                        </span>

                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="form-group">
                        <label>CV Chauffeur : </label> &nbsp;&nbsp; {{ formDataChauffeurDTO?.cvChauffeur }}
                        <a href="{{
                this.chauffeurService.apiServerUrl +
                  '/chauffeurs/uploadChauffeurCvInFolder/' +
                  formDataChauffeurDTO.cvChauffeur
              }}" class="cv" *ngIf="paramId">&nbsp;&nbsp;
              <i
                class="fa fa-download"
                style="cursor: pointer; align-items: flex-end"
              ></i
              >&nbsp;&nbsp;
            </a>
                        <span *ngIf="!editCv">
              <input type="file" (change)="onSelectCvFile($event)" />
              <button
                *ngIf="paramId"
                class="btn btn-success btn-sm"
                (click)="processCvForm()"
              >
                <span class="glyphicon glyphicon-upload"></span> Changer le cv
                        </button>
                        {{ progress }}
                        </span>

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <div class="form-group">
                        <label>Mobilité </label>
                        <textarea type="text" placeholder="Mobilité chauffeur" class="form-control" [(ngModel)]="formDataChauffeurDTO.mobilite" name="mobilite" id="mobilite" #mobilite="ngModel" cols="10" rows="5" required>
            </textarea>
                        <span class="text-danger" *ngIf="
                (mobilite.touched || addChauffeurForm.submitted) &&
                mobilite.errors?.required
              ">
              mobilite est obligatoire
            </span>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <button *ngIf="!paramId" type="submit" class="btn btn-success" (click)="onSaveChauffeurWithFiles()" style="cursor: pointer">
          <i class="fa fa-database"></i> Enregistrer</button
        >&nbsp;
        <button
          *ngIf="paramId"
          class="btn btn-warning"
          (click)="onUpdateChauffeur()"
          style="cursor: pointer"
        >
          <i class="fa fa-database"></i>Modifié
        </button>
                <button type="button" class="btn btn-danger ml-1" (click)="goBack()">
          <i class="fa fa-arrow-left"></i> Close
        </button>
            </div>
        </form>
    </div>
</div>